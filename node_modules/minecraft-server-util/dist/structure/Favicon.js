"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
/**
 * A utility class for converting a server's favicon into various formats.
 * @class
 */
class Favicon {
    /**
     * Creates a new Favicon class
     * @param text The raw favicon data returned from the server
     */
    constructor(text) {
        this.text = text;
    }
    /**
     * Returns the raw favicon data from the server
     * @returns {string} Raw favicon data
     */
    toString() {
        return this.text;
    }
    /**
     * Gets the data from the favicon and returns it as a buffer
     * @returns {Buffer} The data buffer
     */
    toBuffer() {
        return Buffer.from(this.text.split(';base64,')[1], 'base64');
    }
    /**
     * Writes the favicon to a file, typically a PNG
     * @param {string} path The path to write the image to
     * @returns {Promise<void>}
     */
    writeToFile(path) {
        return fs_1.promises.writeFile(path, this.toBuffer());
    }
}
exports.default = Favicon;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmF2aWNvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdHJ1Y3R1cmUvRmF2aWNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJCQUFvQztBQUVwQzs7O0dBR0c7QUFDSCxNQUFNLE9BQU87SUFHWjs7O09BR0c7SUFDSCxZQUFZLElBQVk7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILFFBQVE7UUFDUCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILFFBQVE7UUFDUCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxXQUFXLENBQUMsSUFBWTtRQUN2QixPQUFPLGFBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQzVDLENBQUM7Q0FDRDtBQUVELGtCQUFlLE9BQU8sQ0FBQyJ9